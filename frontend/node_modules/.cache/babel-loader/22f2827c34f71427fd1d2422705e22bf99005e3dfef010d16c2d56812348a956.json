{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'@clerk/clerk-react';import RegistrationModal from'../components/modals/RegistrationModal';import BaseLayout from'../components/layout/BaseLayout';import apiService from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function PublicHomePage(){const[showRegistrationModal,setShowRegistrationModal]=useState(false);const[activeTab,setActiveTab]=useState('standings');const[standings,setStandings]=useState([]);const[schedule,setSchedule]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const{isSignedIn}=useAuth();const handleRegisterClick=()=>{if(isSignedIn){setShowRegistrationModal(true);}};const handleRegistrationComplete=()=>{console.log('Registration completed successfully');};// Fetch standings and schedule data\nuseEffect(()=>{const fetchData=async()=>{try{setIsLoading(true);setError(null);const[standingsData,scheduleData]=await Promise.all([apiService.getStandings(),apiService.getSchedule()]);setStandings(standingsData);setSchedule(scheduleData);}catch(err){console.error('Failed to fetch league data:',err);setError('Failed to load league data. Please try again later.');}finally{setIsLoading(false);}};fetchData();},[]);return/*#__PURE__*/_jsxs(BaseLayout,{showHero:true,heroTitle:\"Salem Flag Football League\",heroSubtitle:\"Join our community flag football league in historic Salem, Massachusetts. All skill levels welcome - come play, compete, and make new friends!\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gunmetal bg-opacity-95 border-2 border-pumpkin rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\uD83D\\uDCCD\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-pumpkin mb-2\",children:\"Salem Common\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"Games played at historic Salem Common\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gunmetal bg-opacity-95 border-2 border-pumpkin rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\u23F0\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-pumpkin mb-2\",children:\"Tuesday Nights\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"6:00 PM start time, weather permitting\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gunmetal bg-opacity-95 border-2 border-pumpkin rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-pumpkin mb-2\",children:\"All Welcome\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"Open to players 18+ of all skill levels\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegisterClick,className:\"px-8 py-4 rounded bg-pumpkin text-black font-bold text-lg hover:bg-deeporange transition-colors shadow-lg\",children:isSignedIn?'Register Now':'Join the League'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/rules\",className:\"bg-gunmetal bg-opacity-95 border-2 border-pumpkin rounded-xl p-6 hover:bg-darkgunmetal transition-colors\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-pumpkin mb-2\",children:\"\\uD83D\\uDCCB League Rules\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:\"Learn about game rules, scoring, and league policies\"})]}),/*#__PURE__*/_jsxs(\"a\",{href:\"/info\",className:\"bg-gunmetal bg-opacity-95 border-2 border-pumpkin rounded-xl p-6 hover:bg-darkgunmetal transition-colors\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-pumpkin mb-2\",children:\"\\u2139\\uFE0F League Info\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:\"Season details, locations, and important dates\"})]}),/*#__PURE__*/_jsxs(\"a\",{href:\"/contact\",className:\"bg-gunmetal bg-opacity-95 border-2 border-pumpkin rounded-xl p-6 hover:bg-darkgunmetal transition-colors\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-pumpkin mb-2\",children:\"\\uD83D\\uDCDE Contact Us\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:\"Get in touch with league organizers\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gunmetal bg-opacity-95 border-2 border-pumpkin rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-pumpkin\",children:\"League Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('standings'),className:`px-4 py-2 rounded font-bold transition-colors ${activeTab==='standings'?'bg-pumpkin text-black':'bg-black text-pumpkin border border-pumpkin'}`,children:\"Standings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('schedule'),className:`px-4 py-2 rounded font-bold transition-colors ${activeTab==='schedule'?'bg-pumpkin text-black':'bg-black text-pumpkin border border-pumpkin'}`,children:\"Schedule\"})]})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-pumpkin text-xl\",children:\"Loading league data...\"})}):error?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xl mb-2\",children:\"Error loading data\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400\",children:error})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[activeTab==='standings'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:standings.map(standing=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-black bg-opacity-30 rounded-lg p-4 border border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-pumpkin font-bold text-lg\",children:[\"#\",standing.rank]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:standing.team})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-6 text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"W: \",standing.wins]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"L: \",standing.losses]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"PF: \",standing.pointsFor]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"PA: \",standing.pointsAgainst]})]})]})},standing.rank))}),activeTab==='schedule'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:schedule.map(game=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black bg-opacity-30 rounded-lg p-4 border border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-pumpkin font-bold\",children:[\"Week \",game.week]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-400 text-sm\",children:[game.date,\" at \",game.time]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:game.home}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Home\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-pumpkin font-bold text-xl mx-4\",children:\"VS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:game.away}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Away\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-2 text-sm text-gray-400\",children:[\"\\uD83D\\uDCCD \",game.location]})]},`${game.week}-${game.home}-${game.away}`))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-gradient-to-r from-pumpkin/30 to-deeporange/30 border-2 border-pumpkin rounded-xl p-6 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-pumpkin mb-2\",children:\"Ready to Join the League?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-4\",children:\"Register as an individual player or form a team with friends. Don't miss out on the action!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegisterClick,className:\"px-8 py-3 rounded bg-pumpkin text-black font-bold hover:bg-deeporange transition-colors\",children:isSignedIn?'Register Now':'Sign In to Register'})]})]}),showRegistrationModal&&/*#__PURE__*/_jsx(RegistrationModal,{isOpen:showRegistrationModal,onClose:()=>setShowRegistrationModal(false),onRegistrationComplete:handleRegistrationComplete})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}