{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useUser}from'@clerk/clerk-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MAX_GROUP_SIZE=7;const MIN_GROUP_SIZE=2;function getInitialGroup(){return Array(MIN_GROUP_SIZE).fill({firstName:'',lastName:'',email:''});}// Email validation with typo check\nconst COMMON_EMAIL_TYPOS=['gmal.com','gmial.com','gmaill.com','gmail.con','gmail.co','gmail.cmo','yaho.com','yahoo.con','yahoo.cmo','hotmial.com','hotmil.com','hotmail.con','hotmail.cmo','outlok.com','outlook.con','outlook.cmo','icloud.con','icloud.cmo','google.con','google.cmo'];function isValidEmail(email){var _email$split$;// Basic email regex\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/;if(!emailRegex.test(email))return'Invalid email format.';const domain=((_email$split$=email.split('@')[1])===null||_email$split$===void 0?void 0:_email$split$.toLowerCase())||'';for(const typo of COMMON_EMAIL_TYPOS){if(domain.endsWith(typo)){return`Did you mean ${domain.replace(typo,typo.replace('con','com'))}?`;}}return null;}export default function RegistrationModal(_ref){var _user$primaryEmailAdd2;let{isOpen,onClose}=_ref;const{user}=useUser();const[type,setType]=useState('solo');const[solo,setSolo]=useState({firstName:'',lastName:'',email:'',phone:'',dateOfBirth:'',gender:'',termsAccepted:false,communicationsAccepted:false});const[groupName,setGroupName]=useState('');const[group,setGroup]=useState(getInitialGroup());const[error,setError]=useState('');const[success,setSuccess]=useState('');const[fieldErrors,setFieldErrors]=useState({});// Pre-fill user data when component mounts or user changes\nuseEffect(()=>{if(user&&type==='solo'){setSolo(prev=>{var _user$primaryEmailAdd;return{...prev,firstName:user.firstName||'',lastName:user.lastName||'',email:((_user$primaryEmailAdd=user.primaryEmailAddress)===null||_user$primaryEmailAdd===void 0?void 0:_user$primaryEmailAdd.emailAddress)||''// Note: We don't pre-fill phone, dateOfBirth, gender as these aren't stored in Clerk\n};});}},[user,type]);if(!isOpen)return null;const handleInput=(e,idx)=>{const{name,value,type}=e.target;const checked=e.target.checked;setFieldErrors({});if(typeof idx==='number'){const updated=[...group];updated[idx]={...updated[idx],[name]:type==='checkbox'?checked:value};setGroup(updated);}else{setSolo(prev=>({...prev,[name]:type==='checkbox'?checked:value}));}};const handleAddPlayer=()=>{if(group.length<MAX_GROUP_SIZE){setGroup([...group,{firstName:'',lastName:'',email:''}]);}};const handleRemovePlayer=idx=>{if(group.length>MIN_GROUP_SIZE){setGroup(group.filter((_,i)=>i!==idx));}};const validateSolo=()=>{const errors={};if(!solo.firstName)errors.firstName='First name is required.';if(!solo.lastName)errors.lastName='Last name is required.';const emailError=isValidEmail(solo.email);if(!solo.email)errors.email='Email is required.';else if(emailError)errors.email=emailError;if(!solo.phone)errors.phone='Phone is required.';if(!solo.dateOfBirth)errors.dateOfBirth='Date of birth is required.';if(!solo.gender)errors.gender='Gender is required.';if(!solo.termsAccepted)errors.termsAccepted='You must accept the terms of service.';return errors;};const validateGroup=()=>{const errors={};if(!groupName)errors.groupName='Group name is required.';if(group.length<MIN_GROUP_SIZE)errors.group='A group must have at least 2 players.';group.forEach((player,idx)=>{if(!player.firstName)errors[`player${idx}_firstName`]='First name required.';if(!player.lastName)errors[`player${idx}_lastName`]='Last name required.';const emailError=isValidEmail(player.email);if(!player.email)errors[`player${idx}_email`]='Email required.';else if(emailError)errors[`player${idx}_email`]=emailError;});return errors;};const handleSubmit=e=>{e.preventDefault();setError('');setSuccess('');setFieldErrors({});if(type==='solo'){const errors=validateSolo();if(Object.keys(errors).length>0){setFieldErrors(errors);setError('Please fix the errors above.');return;}setSuccess('Solo registration submitted successfully! Welcome to the league!');// TODO: Send to backend\n}else{const errors=validateGroup();if(Object.keys(errors).length>0){setFieldErrors(errors);setError('Please fix the errors above.');return;}setSuccess(`Group registration submitted! Invitations will be sent to ${group.length} players. Your group will be kept together during team formation.`);// TODO: Send to backend - this will trigger email invitations and mark as a group\n}};// Check if form is valid for submit button\nconst isFormValid=()=>{if(type==='solo'){return solo.firstName&&solo.lastName&&solo.email&&solo.phone&&solo.dateOfBirth&&solo.gender&&solo.termsAccepted&&!isValidEmail(solo.email);}else{if(!groupName||group.length<MIN_GROUP_SIZE)return false;return group.every(player=>player.firstName&&player.lastName&&player.email&&!isValidEmail(player.email));}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gunmetal border-2 border-pumpkin rounded-xl shadow-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-2 right-2 text-pumpkin hover:text-deeporange text-2xl font-bold\",onClick:onClose,\"aria-label\":\"Close registration modal\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-pumpkin mb-4 text-center\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mb-4 gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:`px-4 py-2 rounded font-bold border-2 ${type==='solo'?'bg-pumpkin text-black border-pumpkin':'bg-black text-pumpkin border-pumpkin'} transition-colors`,onClick:()=>{setType('solo');setError('');setSuccess('');setFieldErrors({});},children:\"Solo\"}),/*#__PURE__*/_jsx(\"button\",{className:`px-4 py-2 rounded font-bold border-2 ${type==='group'?'bg-pumpkin text-black border-pumpkin':'bg-black text-pumpkin border-pumpkin'} transition-colors`,onClick:()=>{setType('group');setError('');setSuccess('');setGroup(getInitialGroup());setFieldErrors({});},children:\"Group\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-black bg-opacity-50 rounded-lg\",children:type==='solo'?/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-300\",children:user?'Your profile information has been pre-filled. Complete the remaining fields to register.':'Register as an individual player for the league.'}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-300 space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Group Registration:\"}),\" Register with friends to ensure you stay together during team formation.\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Groups of 2-7 players\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 All members must accept invitations\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 System will try to keep your group together\"})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[type==='solo'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.firstName?'border-red-500':''}`,name:\"firstName\",placeholder:\"First Name\",value:solo.firstName,onChange:handleInput,autoComplete:\"given-name\",readOnly:!!(user!==null&&user!==void 0&&user.firstName)}),/*#__PURE__*/_jsx(\"input\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.lastName?'border-red-500':''}`,name:\"lastName\",placeholder:\"Last Name\",value:solo.lastName,onChange:handleInput,autoComplete:\"family-name\",readOnly:!!(user!==null&&user!==void 0&&user.lastName)})]}),fieldErrors.firstName&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors.firstName}),fieldErrors.lastName&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors.lastName}),/*#__PURE__*/_jsx(\"input\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.email?'border-red-500':''}`,name:\"email\",placeholder:\"Email\",value:solo.email,onChange:handleInput,autoComplete:\"email\",type:\"email\",readOnly:!!(user!==null&&user!==void 0&&(_user$primaryEmailAdd2=user.primaryEmailAddress)!==null&&_user$primaryEmailAdd2!==void 0&&_user$primaryEmailAdd2.emailAddress)}),fieldErrors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors.email}),/*#__PURE__*/_jsx(\"input\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.phone?'border-red-500':''}`,name:\"phone\",placeholder:\"Phone\",value:solo.phone,onChange:handleInput,autoComplete:\"tel\",type:\"tel\"}),fieldErrors.phone&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors.phone}),/*#__PURE__*/_jsx(\"input\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.dateOfBirth?'border-red-500':''}`,name:\"dateOfBirth\",placeholder:\"Date of Birth\",value:solo.dateOfBirth,onChange:handleInput,autoComplete:\"bday\",type:\"date\"}),fieldErrors.dateOfBirth&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors.dateOfBirth}),/*#__PURE__*/_jsxs(\"select\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.gender?'border-red-500':''}`,name:\"gender\",value:solo.gender,onChange:handleInput,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"}),/*#__PURE__*/_jsx(\"option\",{value:\"prefer-not-to-say\",children:\"Prefer not to say\"})]}),fieldErrors.gender&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors.gender}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 pt-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start gap-3 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"termsAccepted\",checked:solo.termsAccepted,onChange:handleInput,className:\"mt-1 w-4 h-4 text-pumpkin bg-black border-pumpkin rounded focus:ring-pumpkin focus:ring-2\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-300\",children:[\"I agree to the \",/*#__PURE__*/_jsx(\"a\",{href:\"/terms\",className:\"text-pumpkin hover:text-deeporange underline\",children:\"Terms of Service\"}),\" and acknowledge that by registering, I am bound by these terms.\"]})]}),fieldErrors.termsAccepted&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs\",children:fieldErrors.termsAccepted}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start gap-3 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"communicationsAccepted\",checked:solo.communicationsAccepted,onChange:handleInput,className:\"mt-1 w-4 h-4 text-pumpkin bg-black border-pumpkin rounded focus:ring-pumpkin focus:ring-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-300\",children:\"I consent to receive communications about league activities, schedules, and updates via email.\"})]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.groupName?'border-red-500':''}`,name:\"groupName\",placeholder:\"Group Name (e.g., 'The Friends', 'Work Buddies')\",value:groupName,onChange:e=>setGroupName(e.target.value),autoComplete:\"off\"}),fieldErrors.groupName&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors.groupName}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-300 mb-4 p-3 bg-black bg-opacity-30 rounded\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCE7 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Group Invite System:\"}),\" Enter your friends' information below. Each person will receive an email invitation to join your group.\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-xs\",children:[\"\\uD83D\\uDCA1 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Your group will be kept together during team formation, but may be combined with other players to form complete teams.\"]})]}),group.map((player,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 mb-4 p-3 bg-black bg-opacity-30 rounded\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-pumpkin font-semibold\",children:[\"Group Member \",idx+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors[`player${idx}_firstName`]?'border-red-500':''}`,name:\"firstName\",placeholder:\"First Name\",value:player.firstName,onChange:e=>handleInput(e,idx),autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"input\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors[`player${idx}_lastName`]?'border-red-500':''}`,name:\"lastName\",placeholder:\"Last Name\",value:player.lastName,onChange:e=>handleInput(e,idx),autoComplete:\"off\"})]}),fieldErrors[`player${idx}_firstName`]&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors[`player${idx}_firstName`]}),fieldErrors[`player${idx}_lastName`]&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors[`player${idx}_lastName`]}),/*#__PURE__*/_jsx(\"input\",{className:`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors[`player${idx}_email`]?'border-red-500':''}`,name:\"email\",placeholder:\"Email Address\",value:player.email,onChange:e=>handleInput(e,idx),autoComplete:\"off\",type:\"email\"}),fieldErrors[`player${idx}_email`]&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mb-1\",children:fieldErrors[`player${idx}_email`]}),group.length>MIN_GROUP_SIZE&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"w-full py-1 rounded bg-deeporange text-white font-bold hover:bg-pumpkin transition-colors\",onClick:()=>handleRemovePlayer(idx),\"aria-label\":`Remove group member ${idx+1}`,children:\"Remove Member\"})]},idx)),group.length<MAX_GROUP_SIZE&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"w-full py-2 rounded bg-pumpkin text-black font-bold hover:bg-deeporange transition-colors mb-2\",onClick:handleAddPlayer,children:[\"+ Add Group Member (\",group.length,\"/\",MAX_GROUP_SIZE,\")\"]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-sm text-center\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"text-green-400 text-sm text-center\",children:success}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!isFormValid(),className:`w-full py-2 rounded font-bold transition-colors mt-2 ${isFormValid()?'bg-pumpkin text-black hover:bg-deeporange':'bg-gray-600 text-gray-400 cursor-not-allowed'}`,children:type==='solo'?'Register for League':'Send Group Invitations'})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MAX_GROUP_SIZE","MIN_GROUP_SIZE","getInitialGroup","Array","fill","firstName","lastName","email","COMMON_EMAIL_TYPOS","isValidEmail","_email$split$","emailRegex","test","domain","split","toLowerCase","typo","endsWith","replace","RegistrationModal","_ref","_user$primaryEmailAdd2","isOpen","onClose","user","type","setType","solo","setSolo","phone","dateOfBirth","gender","termsAccepted","communicationsAccepted","groupName","setGroupName","group","setGroup","error","setError","success","setSuccess","fieldErrors","setFieldErrors","prev","_user$primaryEmailAdd","primaryEmailAddress","emailAddress","handleInput","e","idx","name","value","target","checked","updated","handleAddPlayer","length","handleRemovePlayer","filter","_","i","validateSolo","errors","emailError","validateGroup","forEach","player","handleSubmit","preventDefault","Object","keys","isFormValid","every","className","children","onClick","onSubmit","placeholder","onChange","autoComplete","readOnly","href","map","disabled"],"sources":["/Users/acarria/Documents/salem-flag-football/frontend/src/RegistrationModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useUser } from '@clerk/clerk-react';\n\ninterface RegistrationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ntype RegistrationType = 'solo' | 'group';\n\nconst MAX_GROUP_SIZE = 7;\nconst MIN_GROUP_SIZE = 2;\n\nfunction getInitialGroup() {\n  return Array(MIN_GROUP_SIZE).fill({ \n    firstName: '', \n    lastName: '', \n    email: ''\n  });\n}\n\n// Email validation with typo check\nconst COMMON_EMAIL_TYPOS = [\n  'gmal.com', 'gmial.com', 'gmaill.com', 'gmail.con', 'gmail.co', 'gmail.cmo',\n  'yaho.com', 'yahoo.con', 'yahoo.cmo', 'hotmial.com', 'hotmil.com', 'hotmail.con', 'hotmail.cmo',\n  'outlok.com', 'outlook.con', 'outlook.cmo', 'icloud.con', 'icloud.cmo',\n  'google.con', 'google.cmo',\n];\n\nfunction isValidEmail(email: string): string | null {\n  // Basic email regex\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/;\n  if (!emailRegex.test(email)) return 'Invalid email format.';\n  const domain = email.split('@')[1]?.toLowerCase() || '';\n  for (const typo of COMMON_EMAIL_TYPOS) {\n    if (domain.endsWith(typo)) {\n      return `Did you mean ${domain.replace(typo, typo.replace('con', 'com'))}?`;\n    }\n  }\n  return null;\n}\n\nexport default function RegistrationModal({ isOpen, onClose }: RegistrationModalProps) {\n  const { user } = useUser();\n  const [type, setType] = useState<RegistrationType>('solo');\n  const [solo, setSolo] = useState({ \n    firstName: '', \n    lastName: '', \n    email: '', \n    phone: '', \n    dateOfBirth: '', \n    gender: '',\n    termsAccepted: false,\n    communicationsAccepted: false\n  });\n  const [groupName, setGroupName] = useState('');\n  const [group, setGroup] = useState(getInitialGroup());\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [fieldErrors, setFieldErrors] = useState<{ [key: string]: string }>({});\n\n  // Pre-fill user data when component mounts or user changes\n  useEffect(() => {\n    if (user && type === 'solo') {\n      setSolo(prev => ({\n        ...prev,\n        firstName: user.firstName || '',\n        lastName: user.lastName || '',\n        email: user.primaryEmailAddress?.emailAddress || '',\n        // Note: We don't pre-fill phone, dateOfBirth, gender as these aren't stored in Clerk\n      }));\n    }\n  }, [user, type]);\n\n  if (!isOpen) return null;\n\n  const handleInput = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>, idx?: number) => {\n    const { name, value, type } = e.target;\n    const checked = (e.target as HTMLInputElement).checked;\n    \n    setFieldErrors({});\n    if (typeof idx === 'number') {\n      const updated = [...group];\n      updated[idx] = { \n        ...updated[idx], \n        [name]: type === 'checkbox' ? checked : value \n      };\n      setGroup(updated);\n    } else {\n      setSolo(prev => ({\n        ...prev,\n        [name]: type === 'checkbox' ? checked : value\n      }));\n    }\n  };\n\n  const handleAddPlayer = () => {\n    if (group.length < MAX_GROUP_SIZE) {\n      setGroup([...group, { \n        firstName: '', \n        lastName: '', \n        email: ''\n      }]);\n    }\n  };\n\n  const handleRemovePlayer = (idx: number) => {\n    if (group.length > MIN_GROUP_SIZE) {\n      setGroup(group.filter((_, i) => i !== idx));\n    }\n  };\n\n  const validateSolo = () => {\n    const errors: { [key: string]: string } = {};\n    if (!solo.firstName) errors.firstName = 'First name is required.';\n    if (!solo.lastName) errors.lastName = 'Last name is required.';\n    const emailError = isValidEmail(solo.email);\n    if (!solo.email) errors.email = 'Email is required.';\n    else if (emailError) errors.email = emailError;\n    if (!solo.phone) errors.phone = 'Phone is required.';\n    if (!solo.dateOfBirth) errors.dateOfBirth = 'Date of birth is required.';\n    if (!solo.gender) errors.gender = 'Gender is required.';\n    if (!solo.termsAccepted) errors.termsAccepted = 'You must accept the terms of service.';\n    return errors;\n  };\n\n  const validateGroup = () => {\n    const errors: { [key: string]: string } = {};\n    if (!groupName) errors.groupName = 'Group name is required.';\n    if (group.length < MIN_GROUP_SIZE) errors.group = 'A group must have at least 2 players.';\n    group.forEach((player, idx) => {\n      if (!player.firstName) errors[`player${idx}_firstName`] = 'First name required.';\n      if (!player.lastName) errors[`player${idx}_lastName`] = 'Last name required.';\n      const emailError = isValidEmail(player.email);\n      if (!player.email) errors[`player${idx}_email`] = 'Email required.';\n      else if (emailError) errors[`player${idx}_email`] = emailError;\n    });\n    return errors;\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    setFieldErrors({});\n    \n    if (type === 'solo') {\n      const errors = validateSolo();\n      if (Object.keys(errors).length > 0) {\n        setFieldErrors(errors);\n        setError('Please fix the errors above.');\n        return;\n      }\n      setSuccess('Solo registration submitted successfully! Welcome to the league!');\n      // TODO: Send to backend\n    } else {\n      const errors = validateGroup();\n      if (Object.keys(errors).length > 0) {\n        setFieldErrors(errors);\n        setError('Please fix the errors above.');\n        return;\n      }\n      setSuccess(`Group registration submitted! Invitations will be sent to ${group.length} players. Your group will be kept together during team formation.`);\n      // TODO: Send to backend - this will trigger email invitations and mark as a group\n    }\n  };\n\n  // Check if form is valid for submit button\n  const isFormValid = () => {\n    if (type === 'solo') {\n      return solo.firstName && \n             solo.lastName && \n             solo.email && \n             solo.phone && \n             solo.dateOfBirth && \n             solo.gender && \n             solo.termsAccepted &&\n             !isValidEmail(solo.email);\n    } else {\n      if (!groupName || group.length < MIN_GROUP_SIZE) return false;\n      \n      return group.every(player => \n        player.firstName && \n        player.lastName && \n        player.email &&\n        !isValidEmail(player.email)\n      );\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80\">\n      <div className=\"bg-gunmetal border-2 border-pumpkin rounded-xl shadow-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto relative\">\n        <button\n          className=\"absolute top-2 right-2 text-pumpkin hover:text-deeporange text-2xl font-bold\"\n          onClick={onClose}\n          aria-label=\"Close registration modal\"\n        >\n          ×\n        </button>\n        <h2 className=\"text-2xl font-bold text-pumpkin mb-4 text-center\">Register</h2>\n        \n        {/* Registration Type Selection */}\n        <div className=\"flex justify-center mb-4 gap-2\">\n          <button\n            className={`px-4 py-2 rounded font-bold border-2 ${type === 'solo' ? 'bg-pumpkin text-black border-pumpkin' : 'bg-black text-pumpkin border-pumpkin'} transition-colors`}\n            onClick={() => { setType('solo'); setError(''); setSuccess(''); setFieldErrors({}); }}\n          >\n            Solo\n          </button>\n          <button\n            className={`px-4 py-2 rounded font-bold border-2 ${type === 'group' ? 'bg-pumpkin text-black border-pumpkin' : 'bg-black text-pumpkin border-pumpkin'} transition-colors`}\n            onClick={() => { setType('group'); setError(''); setSuccess(''); setGroup(getInitialGroup()); setFieldErrors({}); }}\n          >\n            Group\n          </button>\n        </div>\n\n        {/* Registration Type Description */}\n        <div className=\"mb-4 p-3 bg-black bg-opacity-50 rounded-lg\">\n          {type === 'solo' ? (\n            <p className=\"text-sm text-gray-300\">\n              {user ? 'Your profile information has been pre-filled. Complete the remaining fields to register.' : 'Register as an individual player for the league.'}\n            </p>\n          ) : (\n            <div className=\"text-sm text-gray-300 space-y-2\">\n              <p><strong>Group Registration:</strong> Register with friends to ensure you stay together during team formation.</p>\n              <p>• Groups of 2-7 players</p>\n              <p>• All members must accept invitations</p>\n              <p>• System will try to keep your group together</p>\n            </div>\n          )}\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {type === 'solo' ? (\n            <>\n              <div className=\"grid grid-cols-2 gap-2\">\n                <input\n                  className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.firstName ? 'border-red-500' : ''}`}\n                  name=\"firstName\"\n                  placeholder=\"First Name\"\n                  value={solo.firstName}\n                  onChange={handleInput}\n                  autoComplete=\"given-name\"\n                  readOnly={!!user?.firstName}\n                />\n                <input\n                  className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.lastName ? 'border-red-500' : ''}`}\n                  name=\"lastName\"\n                  placeholder=\"Last Name\"\n                  value={solo.lastName}\n                  onChange={handleInput}\n                  autoComplete=\"family-name\"\n                  readOnly={!!user?.lastName}\n                />\n              </div>\n              {fieldErrors.firstName && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors.firstName}</div>}\n              {fieldErrors.lastName && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors.lastName}</div>}\n              \n              <input\n                className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.email ? 'border-red-500' : ''}`}\n                name=\"email\"\n                placeholder=\"Email\"\n                value={solo.email}\n                onChange={handleInput}\n                autoComplete=\"email\"\n                type=\"email\"\n                readOnly={!!user?.primaryEmailAddress?.emailAddress}\n              />\n              {fieldErrors.email && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors.email}</div>}\n              \n              <input\n                className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.phone ? 'border-red-500' : ''}`}\n                name=\"phone\"\n                placeholder=\"Phone\"\n                value={solo.phone}\n                onChange={handleInput}\n                autoComplete=\"tel\"\n                type=\"tel\"\n              />\n              {fieldErrors.phone && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors.phone}</div>}\n              \n              <input\n                className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.dateOfBirth ? 'border-red-500' : ''}`}\n                name=\"dateOfBirth\"\n                placeholder=\"Date of Birth\"\n                value={solo.dateOfBirth}\n                onChange={handleInput}\n                autoComplete=\"bday\"\n                type=\"date\"\n              />\n              {fieldErrors.dateOfBirth && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors.dateOfBirth}</div>}\n              \n              <select\n                className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.gender ? 'border-red-500' : ''}`}\n                name=\"gender\"\n                value={solo.gender}\n                onChange={handleInput}\n              >\n                <option value=\"\">Select Gender</option>\n                <option value=\"male\">Male</option>\n                <option value=\"female\">Female</option>\n                <option value=\"other\">Other</option>\n                <option value=\"prefer-not-to-say\">Prefer not to say</option>\n              </select>\n              {fieldErrors.gender && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors.gender}</div>}\n              \n              <div className=\"space-y-3 pt-2\">\n                <label className=\"flex items-start gap-3 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"termsAccepted\"\n                    checked={solo.termsAccepted}\n                    onChange={handleInput}\n                    className=\"mt-1 w-4 h-4 text-pumpkin bg-black border-pumpkin rounded focus:ring-pumpkin focus:ring-2\"\n                  />\n                  <span className=\"text-sm text-gray-300\">\n                    I agree to the <a href=\"/terms\" className=\"text-pumpkin hover:text-deeporange underline\">Terms of Service</a> and acknowledge that by registering, I am bound by these terms.\n                  </span>\n                </label>\n                {fieldErrors.termsAccepted && <div className=\"text-red-400 text-xs\">{fieldErrors.termsAccepted}</div>}\n                \n                <label className=\"flex items-start gap-3 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"communicationsAccepted\"\n                    checked={solo.communicationsAccepted}\n                    onChange={handleInput}\n                    className=\"mt-1 w-4 h-4 text-pumpkin bg-black border-pumpkin rounded focus:ring-pumpkin focus:ring-2\"\n                  />\n                  <span className=\"text-sm text-gray-300\">\n                    I consent to receive communications about league activities, schedules, and updates via email.\n                  </span>\n                </label>\n              </div>\n            </>\n          ) : (\n            <>\n              <input\n                className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors.groupName ? 'border-red-500' : ''}`}\n                name=\"groupName\"\n                placeholder=\"Group Name (e.g., 'The Friends', 'Work Buddies')\"\n                value={groupName}\n                onChange={e => setGroupName(e.target.value)}\n                autoComplete=\"off\"\n              />\n              {fieldErrors.groupName && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors.groupName}</div>}\n              \n              <div className=\"text-sm text-gray-300 mb-4 p-3 bg-black bg-opacity-30 rounded\">\n                <p>📧 <strong>Group Invite System:</strong> Enter your friends' information below. Each person will receive an email invitation to join your group.</p>\n                <p className=\"mt-2 text-xs\">💡 <strong>Note:</strong> Your group will be kept together during team formation, but may be combined with other players to form complete teams.</p>\n              </div>\n              \n              {group.map((player, idx) => (\n                <div key={idx} className=\"flex flex-col gap-2 mb-4 p-3 bg-black bg-opacity-30 rounded\">\n                  <h4 className=\"text-pumpkin font-semibold\">Group Member {idx + 1}</h4>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    <input\n                      className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors[`player${idx}_firstName`] ? 'border-red-500' : ''}`}\n                      name=\"firstName\"\n                      placeholder=\"First Name\"\n                      value={player.firstName}\n                      onChange={e => handleInput(e, idx)}\n                      autoComplete=\"off\"\n                    />\n                    <input\n                      className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors[`player${idx}_lastName`] ? 'border-red-500' : ''}`}\n                      name=\"lastName\"\n                      placeholder=\"Last Name\"\n                      value={player.lastName}\n                      onChange={e => handleInput(e, idx)}\n                      autoComplete=\"off\"\n                    />\n                  </div>\n                  {fieldErrors[`player${idx}_firstName`] && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors[`player${idx}_firstName`]}</div>}\n                  {fieldErrors[`player${idx}_lastName`] && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors[`player${idx}_lastName`]}</div>}\n                  \n                  <input\n                    className={`w-full p-2 rounded bg-black border border-pumpkin text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pumpkin ${fieldErrors[`player${idx}_email`] ? 'border-red-500' : ''}`}\n                    name=\"email\"\n                    placeholder=\"Email Address\"\n                    value={player.email}\n                    onChange={e => handleInput(e, idx)}\n                    autoComplete=\"off\"\n                    type=\"email\"\n                  />\n                  {fieldErrors[`player${idx}_email`] && <div className=\"text-red-400 text-xs mb-1\">{fieldErrors[`player${idx}_email`]}</div>}\n                  \n                  {group.length > MIN_GROUP_SIZE && (\n                    <button\n                      type=\"button\"\n                      className=\"w-full py-1 rounded bg-deeporange text-white font-bold hover:bg-pumpkin transition-colors\"\n                      onClick={() => handleRemovePlayer(idx)}\n                      aria-label={`Remove group member ${idx + 1}`}\n                    >\n                      Remove Member\n                    </button>\n                  )}\n                </div>\n              ))}\n              \n              {group.length < MAX_GROUP_SIZE && (\n                <button\n                  type=\"button\"\n                  className=\"w-full py-2 rounded bg-pumpkin text-black font-bold hover:bg-deeporange transition-colors mb-2\"\n                  onClick={handleAddPlayer}\n                >\n                  + Add Group Member ({group.length}/{MAX_GROUP_SIZE})\n                </button>\n              )}\n            </>\n          )}\n          \n          {error && <div className=\"text-red-400 text-sm text-center\">{error}</div>}\n          {success && <div className=\"text-green-400 text-sm text-center\">{success}</div>}\n          \n          <button\n            type=\"submit\"\n            disabled={!isFormValid()}\n            className={`w-full py-2 rounded font-bold transition-colors mt-2 ${\n              isFormValid() \n                ? 'bg-pumpkin text-black hover:bg-deeporange' \n                : 'bg-gray-600 text-gray-400 cursor-not-allowed'\n            }`}\n          >\n            {type === 'solo' ? 'Register for League' : 'Send Group Invitations'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}